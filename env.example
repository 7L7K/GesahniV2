# Backend configuration example â€“ fill in secrets before running locally.

# ===== Core =====
ENV=dev
HOST=localhost
PORT=8000
APP_URL=http://localhost:3000

# ===== Auth / Security =====
JWT_ALGS=HS256
JWT_SECRET=
JWT_EXPIRE_MINUTES=15
JWT_REFRESH_EXPIRE_MINUTES=43200
RATE_LIMIT_PER_MIN=60
RATE_LIMIT_BACKEND=memory
RATE_LIMIT_MODE=off
RATE_LIMIT_REDIS_PREFIX=rl
RATE_LIMIT_BYPASS_SCOPES=
DAILY_REQUEST_CAP=0
API_TOKEN=

# ===== Cookie & Session =====
COOKIE_SECURE=0
COOKIE_SAMESITE=lax
CSRF_ENABLED=0
DEV_MODE=0
GSN_ENABLE_AUTH_COOKIES=1
SESSIONS_DIR=sessions
ALBUM_ART_DIR=data/album_art

# ===== CORS =====
CORS_ALLOW_ORIGINS=http://localhost:3000
CORS_ALLOW_CREDENTIALS=true

# ===== Integrations (feature flags) =====
GSNH_ENABLE_MUSIC=1
GSNH_ENABLE_SPOTIFY=0
GSNH_ENABLE_GOOGLE=1
HOME_ASSISTANT_ENABLED=0

# ===== Spotify OAuth =====
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=
SPOTIFY_REDIRECT_URI=http://127.0.0.1:8000/v1/auth/spotify/callback

# ===== Google OAuth =====
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://127.0.0.1:8000/v1/auth/google/callback

# ===== OpenAI / Whisper =====
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o
OPENAI_TRANSCRIBE_MODEL=whisper-1

# ===== Local LLM (disabled by default) =====
LLAMA_ENABLED=0
OLLAMA_MODEL=llama3:latest
OLLAMA_URL=
LLAMA_MAX_STREAMS=2
OLLAMA_FORCE_IPV6=0

# ===== Routing =====
DETERMINISTIC_ROUTER=1
ROUTER_RULES_PATH=router_rules.yaml
ALLOWED_GPT_MODELS=gpt-4o,gpt-4,gpt-3.5-turbo
ALLOWED_LLAMA_MODELS=llama3:latest,llama3
MODEL_ROUTER_HEAVY_WORDS=30
MODEL_ROUTER_HEAVY_TOKENS=1000

# ===== Music Settings =====
MUSIC_FALLBACK_RADIO=0
EXPLICIT_DEFAULT=1
QUIET_HOURS_START=22:00
QUIET_HOURS_END=07:00
MUSIC_DB=music.db

# ===== Embeddings / Vectors =====
EMBEDDING_BACKEND=openai
EMBED_MODEL=text-embedding-3-small
SBERT_MODEL=sentence-transformers/paraphrase-MiniLM-L3-v2
VECTOR_STORE=chroma
CHROMA_PATH=.chroma_data
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION=gesahni_memories
STRICT_VECTOR_STORE=0

# ===== Additional Integrations =====
RAGFLOW_URL=http://localhost:8001
RAGFLOW_COLLECTION=demo
TRANSLATE_URL=http://localhost:5000
HOME_ASSISTANT_URL=http://localhost:8123
HOME_ASSISTANT_TOKEN=

# ===== Notes & Calendar =====
NOTES_DB=notes.db
CALENDAR_FILE=data/calendar.json

# ===== Upload limits =====
MAX_UPLOAD_BYTES=10485760

# ===== Cache =====
DISABLE_QA_CACHE=0

# ===== Database =====
DATABASE_URL=postgresql://app:app_pw@localhost:5432/gesahni

# ===== Monitoring =====
PROMETHEUS_ENABLED=1
OTEL_ENABLED=1

# ===== Weather (optional) =====
OPENWEATHER_API_KEY=
CITY_NAME=Detroit,US
