# Backend configuration

# OpenAI
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o
OPENAI_TRANSCRIBE_MODEL=whisper-1
WHISPER_MODEL=whisper-1

# LLaMA / Ollama
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3:latest
OLLAMA_FORCE_IPV6=0
LLAMA_MAX_STREAMS=2

# Routing
DETERMINISTIC_ROUTER=1
ROUTER_RULES_PATH=router_rules.yaml
ALLOWED_GPT_MODELS=gpt-4o,gpt-4,gpt-3.5-turbo
ALLOWED_LLAMA_MODELS=llama3:latest,llama3
MODEL_ROUTER_HEAVY_WORDS=30
MODEL_ROUTER_HEAVY_TOKENS=1000

# Auth & security
JWT_SECRET=change-me
JWT_EXPIRE_MINUTES=30
JWT_REFRESH_EXPIRE_MINUTES=1440
RATE_LIMIT_PER_MIN=60
API_TOKEN=

# Server
CORS_ALLOW_ORIGINS=http://localhost:3000
PORT=8000
SESSIONS_DIR=sessions

# Optional admin for /config
ADMIN_TOKEN=

# Home Assistant
HOME_ASSISTANT_URL=http://localhost:8123
HOME_ASSISTANT_TOKEN=

# Intent detection
INTENT_THRESHOLD=0.7
SBERT_MODEL=sentence-transformers/paraphrase-MiniLM-L3-v2

# Embeddings
EMBEDDING_BACKEND=openai
EMBED_MODEL=text-embedding-3-small
LLAMA_EMBEDDINGS_MODEL=

# Vector store / RAG
VECTOR_STORE=chroma
CHROMA_PATH=.chroma_data
SIM_THRESHOLD=0.24
MEM_TOP_K=3

# External services
TRANSLATE_URL=http://localhost:5000
OPENWEATHER_API_KEY=
CITY_NAME=Detroit,US

# Data paths
HISTORY_FILE=data/history.jsonl
FOLLOW_UPS_FILE=data/follow_ups.json
USERS_DB=users.db

# Background queue (optional)
REDIS_URL=redis://localhost:6379/0

# Debugging
DEBUG=0
DEBUG_MODEL_ROUTING=0

# Google OAuth (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/google/oauth/callback
JWT_STATE_SECRET=change-me-state
GOOGLE_OAUTH_DB_URL=sqlite:///./google_oauth.sqlite3
# Default scopes aligned with Google userinfo endpoints
GOOGLE_SCOPES="openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/gmail.send https://www.googleapis.com/auth/calendar.events"

